<!DOCTYPE html>
<html lang="es-VE">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="stylesheet" href="./reports.css" />
    <!-- Mitigacion de cross site scripting -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <title>Products app</title>
  </head>
  <body>
    <form name="form-estadistics">
      <main class="container p-3 h-100">
        <div class="d-flex flex-row justify-content-between border-bottom">
          <h2>
            <i class="fas fa-arrow-circle-left point" onclick="redirectTo('../home/home.html')"></i>
            <span class="ms-3">Estadisticas y reportes</span>
          </h2>
        </div>

        <div class="main-content mt-4">
          <article class="fst-italic fw-lighter text-center info">
            "La informacion estadistica corresponde a los productos y notas de entregas
            generadas a los clientes desde la aplicacion. Puede utilizar la seleccion para ayudarlo a crear
            la consulta y obtener los resultados."
          </article>

          <div class="mt-4" >
            <div class="row">

              <div class="col-md-6 col-12 pe-3">
                <div class="form-group">
                  <label for="area-business" class="form-label">Area del negocio:</label>
                  <select
                  class="form-control"
                  onchange="reportsComponent.handleChangeBusiness( event )"
                  id="area-business"
                  name="area-business"
                  >
                  <option value="">Seleccione</option>
                  <option value="delivery">Notas de entrega</option>
                  <option value="product">Productos</option>
                </select>
                <div class="invalid-feedback text-center" id="error-area-business"></div>
              </div>

              </div>
              <div class="col-md-6 col-12 ps-3">

                <!-- nota de entrega -->
                <div class="form-group" id="delivery-questions">
                  <label for="del-questions" class="form-label">Consultar:</label>
                  <select
                    class="form-control"
                    onchange="reportsComponent.handleChangeQuestions( event )"
                    id="del-questions"
                    name="delivery-questions"
                  >
                    <option value="">Seleccione</option>
                    <option value="quantity-general">Cantidad de notas entregadas por vendedor ( General )</option>
                    <option value="quantity-period">Cantidad de notas entregadas por vendedor ( Periodo )</option>
                    <option value="delivery-general">Cantidad de notas por categoria ( General )</option>
                    <option value="delivery-period">Cantidad de notas por categoria ( Periodo )</option>
                  </select>
                  <div class="invalid-feedback text-center error-questions"></div>
                </div>

                <!-- productos -->
                <div class="form-group" id="product-questions">
                  <label for="prod-questions" class="form-label">Consultar:</label>
                  <select
                  class="form-control"
                  id="prod-questions"
                  name="product-questions"
                  onchange="reportsComponent.handleChangeQuestions( event )"
                  >
                    <option value="">Seleccione</option>
                    <option value="total-product-category">Totalidad de productos por categoria</option>
                    <option value="product-sold-general">Cantidad de productos vendidos hasta hoy</option>
                    <option value="product-sold-period">Cantidad de productos vendidos por periodo</option>
                    <option value="product-max-sold-general">Cantidad maxima vendida ( General )</option>
                    <option value="product-max-sold-periodo">Cantidad maxima vendida ( Periodo )</option>
                  </select>
                  <div class="invalid-feedback text-center error-questions"></div>
                </div>

              </div>
            </div>

            <div class="row mt-3" id="from-until">
              <div class="col-md-6 col-12 pe-3">
                <div class="form-group">
                  <label for="" class="form-label">Desde:</label>
                  <input type="date" name="from" value="" class="form-control" />
                  <div class="invalid-feedback text-center" id="error-from"></div>
                </div>
              </div>
              <div class="col-md-6 col-12 ps-3">
                <div class="form-group">
                  <label for="" class="form-label">Hasta:</label>
                  <input type="date" name="to" value="" class="form-control" />
                  <div class="invalid-feedback text-center" id="error-to"></div>
                </div>
              </div>
            </div>

            <!-- modelo -->
            <div class="row mt-5" id="canvas-estadistics">
              <!-- tabla de datos -->
              <div class="col-12 col-md-6" id="table-data"></div>
              <!-- estadisticas -->
              <div class="col-12 col-md-6">
                <div class="d-flex justify-content-center">
                  <div>
                    <canvas id="chart-model"></canvas>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </main>
      <div class="fixed-bottom">
        <div class="d-flex justify-content-center justify-content-center m-3">
          <button type="submit" class="btn btn-primary">Mostrar Graficas</button>
          <button type="button" class="btn btn-primary ms-3">Generar reporte</button>
        </div>
      </div>
    </form>
    <script src="../global.js"></script>
    <script src="./reports.js"></script>
  </body>
</html>
